
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/minibar.css">
  <!-- <link href="https://unpkg.com/minibarjs@latest/dist/minibar.min.css" rel="stylesheet" type="text/css"> -->

  <title>MiniBar</title>
</head>
<body class="zs">

  <h1>스크롤바 커스텀 플러그인</h1>
  <h2><a href="https://github.com/Mobius1/MiniBar" target="_blank">MiniBar</a></h2>

  <div class="content">
    <div class="box-wrap">
      <p class="tit">onScroll 1</p>
      <div class="box box1">
        1234343244Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!
      </div>
      <div class="desc">
        <p>스크롤 할 때마다 이벤트 실행<br><span class="num"></span></p>
      </div>
    </div>
    <div class="box-wrap">
      <p class="tit">onScroll 2</p>
      <div class="box box2">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!
      </div>
      <div class="desc">
        <p>scrollTop 값이 전체 높이값에 도달했을 때<br>이벤트 실행<br><span class="num2"></span></p>
      </div>
    </div>
    <div class="box-wrap">
      <p class="tit">onScroll 3</p>
      <div class="box box3">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!
      </div>
      <div class="desc">
        <p>scrollTop 값이 1보다 클 때 이벤트 실행하기 <br><span class="num3"></span></p>
      </div>
    </div>
    <div class="box-wrap">
      <p class="tit">destroy</p>
      <div class="box box4">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!
      </div>
      <div class="desc">
        <p>윈도우 값이 768 이하일 때 스크롤바 생성</p>
      </div>
    </div>
  </div>


  <!-- 
  [minibar]

  * 장점
  1. 가볍다.

  * 단점
  1. 베타 버전이라 실무에서 사용하기 힘들 것 같다.
  2. 내장 함수 중 사용할 수 있을만한 게 onscroll 뿐임.


  * Plugin Option
  new MiniBar('#myContent', {
    barType: "default",
    minBarSize: 10,
      > 스크롤 막대의 최소크기 설정함. 내용이 많을 때 스크롤 바 작아지는 현상 방지
    hideBars: false, 
      > true일 때 스크롤바 숨겨짐 
    alwaysShowBars: false,
      > true일 때 호버 안 해도 항상 보임
    horizontalMouseScroll: false,
      > true일 때 가로 스크롤 생성

    navButtons: false,
      > true일 때 스크롤바 버튼 생성
    scrollAmount: 10,
      > 한 번에 스크롤되는 양 조절

    onScroll: function() {
      > 스크롤 할 때마다 호출
    },
  }); -->



  <script src="./js/jquery-1.12.4.min.js"></script>  
  <script src="./js/minibar.js"></script>
  <!-- <script src="https://unpkg.com/minibarjs@latest/dist/minibar.min.js" type="text/javascript"></script> -->

  <script>
    var count = 0;

    // onScroll 1
    new MiniBar('.box1', {
      alwaysShowBars: true,
      onScroll: function(self) {
        // console.log(self)
        if(self.scrollTop > 200) {
          $(".box1").addClass("bg");
        } else{
          $(".box1").removeClass("bg");
        }
        count++;
        $(".num").html(count);
      },
    });

    // onScroll 2
    new MiniBar('.box2', {
      alwaysShowBars: true,
      onScroll: function(self) {
        // console.log(self.scrollHeight - self.offsetHeight)
        console.log(self.scrollTop)
        var scrollEnd = self.scrollHeight - self.offsetHeight;
        if(self.scrollTop == scrollEnd) {
          $(".box2").addClass("bg");
          $(".num2").html("end!");
        }
      },
    });

    // onScroll 3
    new MiniBar('.box3', {
      alwaysShowBars: true,
      onScroll: function(self) {
        // console.log(self);
        if(self.scrollTop > 1){
          // console.log("d");
          $(".box3").addClass("bg");
          $(".num3").html("start!");
        }
      },
    });

    // destroy
    $(window).resize(function() { 
      if($(window).width() < 768) { 
        new MiniBar('.box4', {
          alwaysShowBars: true,
        }); 
      }else{
        var ins = new MiniBar('.box4', {
          alwaysShowBars: true,
        });
        ins.destroy()
      } 
    });

  </script>

</body>
</html>