
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/style.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/overlayscrollbars/1.13.1/css/OverlayScrollbars.min.css" rel="stylesheet" type="text/css">
  <title>OverlayScrollbars</title>
  <style>
    pre {text-align: left;}
    code {word-wrap: break-word; font-family: "맑은 고딕", sans-serif;}
  </style>
</head>
<body>

  <h1>스크롤바 커스텀 플러그인</h1>
  <h2><a href="https://kingsora.github.io/OverlayScrollbars/#!overview" target="_blank">OverlayScrollbars</a></h2>

  <div class="content">
    <div class="box-wrap">
      <p class="tit">scrollstart</p>
      <div class="box box1">
        111Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!
      </div>
      <div class="desc">
        <p>스크롤을 시작한 후 함수 호출</p>
        <p>scroll start : <strong class="num">0</strong></p>
        <div style="text-align: left;">
          var cnt = 0;<br>
          $(".box1").overlayScrollbars({<br>
            callbacks: {<br>
              onScrollStart: function() {<br>
                cnt++;<br>
                $(".num").html(cnt);<br>
                console.log("scroll start");<br>
              }<br>
            }<br>
          });
        </div>
          <pre>
            <!-- <code>
  var cnt = 0;
  $(".box1").overlayScrollbars({
    callbacks: {
      onScrollStart: function() {
        cnt++;
        $(".num").html(cnt);
        console.log("scroll start");
      }
    }
  });
            </code> -->
          </pre>
      </div>
    </div>
    <div class="box-wrap">
      <p class="tit">onscroll</p>
      <div class="box box2">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!
      </div>
      <div class="desc">
        <p>스크롤할 때마다 함수 호출<br>ex) 스크롤top값이 200이상일 경우 배경색 변경</p>
        <pre>
          <code>
$(".box2").overlayScrollbars({
  callbacks: {
    onScroll: function(color) {
      if(color.srcElement.scrollTop > 200) {
        $(".box2").addClass("bg");
      } else {
        $(".box2").removeClass("bg");
      }
    }
  }
});
          </code>
        </pre>
      </div>
    </div>
    <div class="box-wrap">
      <p class="tit">onscrollstop</p>
      <div class="box box3">
        <p>
          <span class="small-box on"></span>
        </p>
      </div>
      <div class="desc">
        <p>스크롤을 멈춘 후 함수 호출<br>ex) 스크롤을 멈췄을 때 박스 이동 멈춤</p>
        <pre>
          <code>
$(".box3").overlayScrollbars({
  callbacks: {
    onScroll: function() {
      $(".box3 .small-box").removeClass("off");
    },
    onScrollStop: function(move) {
      console.dir(move);
      $(".box3 .small-box").addClass("off");
    }
  }
});
          </code>
        </pre>
      </div>
    </div>
    <div class="box-wrap">
      <p class="tit">onscroll (scrollend)</p>
      <div class="box box4">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!
      </div>
      <div class="desc">
        <p>스크롤이 해당 콘텐츠 끝에 도달했을 때 함수 호출<br>ex) 스크롤이 해당 콘텐츠 끝에 도달했을 때 alert창 띄움</p>
        <pre>
          <code>
$(".box4").overlayScrollbars({
  callbacks: {
    onScroll: function(h) {
      if(h.srcElement.scrollTop == (h.srcElement.scrollHeight - h.srcElement.offsetHeight)) alert("알림");
    }
  }
});
          </code>
        </pre>
      </div>
    </div>
    <div class="box-wrap">
      <p class="tit">destroy</p>
      <div class="box box5">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!Lorem ipsum dolor sit amet consectetur adipisicing elit. Aliquam, doloremque? A quasi architecto itaque voluptates? Fugit dignissimos minus rem blanditiis qui aliquid, fuga temporibus natus fugiat animi inventore possimus iusto!
      </div>
      <div class="desc">
        <p>ex) 창너비가 768px이상 일때 destory 호출</p>
        <pre>
          <code>
var ins = OverlayScrollbars($(".box5"));
var timer = null;

function changeWidth() {
  $(window).resize(function() {
    var winW = $(window).innerWidth();

    clearTimeout(timer);
    console.log(timer);
    timer = setTimeout(function() {
      if(winW > 768) {
        ins.destroy();
      } else {
        ins = OverlayScrollbars($(".box5"), {});
      }
    }, 100);

  }).trigger("resize");
}
changeWidth();
          </code>
        </pre>
      </div>
    </div>
  </div>


  <script src="./js/jquery-1.12.4.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/overlayscrollbars/1.13.1/js/jquery.overlayScrollbars.min.js" type="text/javascript"></script>

  <script>
    (function() {
      $(".box").overlayScrollbars({
        className: "os-theme-dark",
        paddingAbsolute: true,
        scrollbars: {
          clickScrolling: true,
          autoHide: "never",
        }
      });
      
      // scroll start
      var cnt = 0;
      $(".box1").overlayScrollbars({
        callbacks: {
          onScrollStart: function() {
            cnt++;
            $(".num").html(cnt);
            console.log("scroll start");
          }
        }
      });
      // scroll
      $(".box2").overlayScrollbars({
        callbacks: {
          onScroll: function(color) {
            if(color.srcElement.scrollTop > 200) {
              $(".box2").addClass("bg");
            } else {
              $(".box2").removeClass("bg");
            }
          }
        }
      });
      // scroll stop
      $(".box3").overlayScrollbars({
        callbacks: {
          onScroll: function() {
            $(".box3 .small-box").removeClass("off");
          },
          onScrollStop: function(move) {
            console.dir(move);
            $(".box3 .small-box").addClass("off");
          }
        }
      });
      $(".box4").overlayScrollbars({
        callbacks: {
          onScroll: function(h) {
            if(h.srcElement.scrollTop == (h.srcElement.scrollHeight - h.srcElement.offsetHeight)) alert("알림");
          }
        }
      });

      var ins = OverlayScrollbars($(".box5"));
      var timer = null;
      
      function changeWidth() {
        $(window).resize(function() {
          var winW = $(window).innerWidth();

          clearTimeout(timer);
          console.log(timer);
          timer = setTimeout(function() {
            if(winW > 768) {
              ins.destroy();
            } else {
              ins = OverlayScrollbars($(".box5"), {});
            }
          }, 100);

        }).trigger("resize");
      }
      changeWidth();
    })();
  </script>
  <!-- 
    [overlayScrollbars]

    * 장점
    1. 다양한 기능이 많다.
    2. 정리가 잘 되어있고 자주 업데이트 된다.
    
    * 단점
    1. 약간 무겁다.

    * 브라우저 지원
    - IE 8+, Edge, Opera, Chrome, Firefox, Safari 6+

    * Default Option
    {
      className: "os-theme-dark"
        > 공백 구분으로 여러 클래스 추가 가능
      resize: "none", "both", "horizontal", "vertical"
        >  host요소 크기 조정
      paddingAbsolute: false
        > true일 때 스크롤바와 콘텐츠 사이 공간에 동일한 패딩처리 가능
      overflowBehavior: {x: "hidden", "scroll", "visible-hidden", "visible-scroll"}
        > 스크롤 가능 여부 & 각 축에 대해 overflow처리 방법
      
      scrollbars : {
        visibility: "visible", "hidden", "auto"
          > 스크롤바 표시여부
        autoHide: "never", "scroll", "leave", "move"
          > 스크롤바 자동숨김 여부
        autoHideDelay: 800
          > 스크롤바 자동숨김 지연 시간
        dragScrolling: true
          > 드래그 스크롤 지원여부
        clickScrolling: false
          > 클릭 스크롤 지원여부
        touchSupport: true
          > 스크롤바 터치이벤트 반응 여부
      }
      
      callbacks : {
        onInitialized: null
          > 플러그인이 초기화 된 후 실행
        onDestroyed: null
          > 플러그인이 제거된 후 실행
        onScrollStart: null
          > 스크롤 시작 후 실행
        onScroll: null
          > 스크롤할 때마다 실행
        onScrollStop: null
          > 스크롤 멈춘 후 실행
      }
    }

    ** Instance Method
    .options()
      > 인스턴스 옵션 반환
    .getElements()
      > 모든 관련요소 반환
    .getState()
      > 현재 상태를 설명하는 개체 반환
    .destroy()
      > 현재 인스턴스를 없애고 초기화 전 상태로 재설정
    .scroll()
      > 현재 스크롤 정보를 반환
   -->
</body>
</html>
